{
	"blocks": [
		{
			"name": "button",
			"aseba": {
				"sectionBegin": "onevent buttons\n",
				"sectionPriority": 10,
				"clauseAnd": "`$[i] ? 'button.' + ['center', 'forward', 'backward', 'right', 'left'][i] + ' != 0' : ''`"
			}
		},
		{
			"name": "Thymio acc 1",
			"aseba": {
				"initVarDecl": [
					"# yaw angle from accelerometer\nvar yawAngle\n"
				],
				"sectionBegin": "onevent acc\n",
				"clauseInit":
					"call math.atan2(yawAngle, acc[0], acc[1])\n",
				"clause": "yawAngle >= `Math.round(2730.67 * $[0] - 1365.33)` and yawAngle < `Math.round(2730.67 * $[0] + 1365.33)`"
			}
		},
		{
			"name": "Thymio acc 2",
			"aseba": {
				"initVarDecl": [
					"# yaw angle from accelerometer\nvar yawAngle\n"
				],
				"sectionBegin": "onevent acc\n",
				"clauseInit":
					"call math.atan2(yawAngle, acc[0], acc[1])\n",
				"clause": "yawAngle >= `Math.round(2730.67 * $[0] - 1365.33)` and yawAngle < `Math.round(2730.67 * $[0] + 1365.33)`"
			}
		},
		{
			"name": "Thymio acc 0",
			"aseba": {
				"initVarDecl": [
					"# yaw angle from accelerometer\nvar yawAngle\n"
				],
				"sectionBegin": "onevent acc\n",
				"clauseInit":
					"call math.atan2(yawAngle, acc[0], acc[1])\n",
				"clause": "yawAngle >= `Math.round(2730.67 * $[0] - 1365.33)` and yawAngle < `Math.round(2730.67 * $[0] + 1365.33)`"
			}
		},
		{
			"name": "start",
			"aseba": {
				"sectionBegin": "# initialization\n",
				"sectionPriority": 10000
			}
		},
		{
			"name": "clap",
			"aseba": {
				"initCodeExec": [
					"# setup threshold for detecting claps\nmic.threshold = 250\n"
				],
				"sectionBegin": "onevent mic\n",
				"sectionPriority": 1,
				"clause": "mic.intensity > mic.threshold",
				"clauseOptional": true
			}
		},
		{
			"name": "Ev_Acc_fall"
		},
		{
			"name": "tap"
		},
		{
			"name": "Ev_ProxH_bas"
		},
		{
			"name": "Remote1"
		},
		{
			"name": "Remote2"
		},
		{
			"name": "motor",
			"aseba": {
				"initCodeExec": [
					"# reset outputs\ncall sound.system(-1)\ncall leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"
				],
				"statement":
					"motor.left.target = `Math.round(500 * $[0])`\nmotor.right.target = `Math.round(500 * $[1])`\n"
			}
		},
		{
			"name": "move",
			"aseba": {
				"initCodeExec": [
					"# reset outputs\ncall sound.system(-1)\ncall leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"
				],
				"statement":
					"motor.left.target = `[0,200,250,100,-150,-200,-250,-100,150][$[0]]`\nmotor.right.target = `[0,200,150,-100,-250,-200,-150,100,250][$[0]]`\n"
			}
		},
		{
			"name": "top_color_basic",
			"aseba": {
				"initVarDecl": [
					"# RGB color of the top led\nvar topColor[3]\n"
				],
				"initCodeExec": [
					"topColor = [0, 0, 0]\n",
					"# reset outputs\ncall sound.system(-1)\ncall leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"
				],
				"statement":
					"call leds.top(`['0,0,0','0,32,0','0,32,32','0,0,32','32,0,32','32,0,0','32,32,0','32,32,32'][$[0]]`)\ntopColor = [`['0,0,0','0,32,0','0,32,32','0,0,32','32,0,32','32,0,0','32,32,0','32,32,32'][$[0]]`]\n"
			}
		},
		{
			"name": "top color",
			"aseba": {
				"initVarDecl": [
					"# RGB color of the top led\nvar topColor[3]\n"
				],
				"initCodeExec": [
					"topColor = [0, 0, 0]\n",
					"# reset outputs\ncall sound.system(-1)\ncall leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"
				],
				"statement":
					"call leds.top(`$.map(function (x) { return Math.round(32 * x); }).join(', ')`)\ntopColor = [`$.map(function (x) { return Math.round(32 * x); }).join(', ')`]\n",
				"statementWithoutInit":
					"call leds.top(`$.map(function (x) { return Math.round(32 * x); }).join(', ')`)\n"
			}
		},
		{
			"name": "Ac_music"
		}
	]
}
