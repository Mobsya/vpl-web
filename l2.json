{
	"blocks": [
		{
			"name": "button",
			"l2": {
				"sectionBegin": "onevent buttons {\n",
				"sectionEnd": "}\n",
				"sectionPriority": 10,
				"clauseAnd": "`$[i] ? 'button.' + ['center', 'forward', 'backward', 'right', 'left'][i] + ' != 0' : ''`"
			}
		},
		{
			"name": "Thymio acc 1",
			"l2": {
				"sectionBegin": "onevent acc {\n",
				"sectionEnd": "}\n",
				"sectionPriority": 1,
				"clauseInit":
					"fixed yawAngle = atan2(acc[0], acc[1]);\n",
				"clause": "yawAngle >= `(Math.PI / 12 * ($[0] - 0.5)).toFixed(2)` and yawAngle < `(Math.PI / 12 * ($[0] + 0.5)).toFixed(2)`"
			}
		},
		{
			"name": "Thymio acc 2",
			"l2": {
				"sectionBegin": "onevent acc {\n",
				"sectionEnd": "}\n",
				"sectionPriority": 1,
				"clauseInit":
					"fixed yawAngle = atan2(acc[0], acc[1]);\n",
				"clause": "yawAngle >= `(Math.PI / 12 * ($[0] - 0.5)).toFixed(2)` and yawAngle < `(Math.PI / 12 * ($[0] + 0.5)).toFixed(2)`"
			}
		},
		{
			"name": "Thymio acc 0",
			"l2": {
				"sectionBegin": "onevent acc {\n",
				"sectionEnd": "}\n",
				"sectionPriority": 1,
				"clauseInit":
					"fixed yawAngle = atan2(acc[0], acc[1]);\n",
				"clause": "yawAngle >= `(Math.PI / 12 * ($[0] - 0.5)).toFixed(2)` and yawAngle < `(Math.PI / 12 * ($[0] + 0.5)).toFixed(2)`"
			}
		},
		{
			"name": "start"
		},
		{
			"name": "clap"
		},
		{
			"name": "Ev_Acc_fall"
		},
		{
			"name": "Ev_Acc_hit"
		},
		{
			"name": "Ev_ProxH_bas"
		},
		{
			"name": "Remote1"
		},
		{
			"name": "Remote2"
		},
		{
			"name": "motor",
			"l2": {
				"initCodeExec": [
					"// reset outputs\nsound.system(-1);\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"
				],
				"statement":
					"motor.left.target = `Math.round(500 * $[0])`;\nmotor.right.target = `Math.round(500 * $[1])`;\n"
			}
		},
		{
			"name": "move",
			"l2": {
				"initCodeExec": [
					"// reset outputs\nsound.system(-1);\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"
				],
				"statement":
					"motor.left.target = `[0,200,250,100,-150,-200,-250,-100,150][$[0]]`;\nmotor.right.target = `[0,200,150,-100,-250,-200,-150,100,250][$[0]]`;\n"
			}
		},
		{
			"name": "top color",
			"l2": {
				"initVarDecl": [
					"// RGB color of the top led\nint topColor[3];\n"
				],
				"initCodeExec": [
					"topColor = [0, 0, 0];\n",
					"// reset outputs\nsound.system(-1);\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"
				],
				"statement":
					"leds.top(`$.map(function (x) { return Math.round(32 * x); }).join(', ')`);\ntopColor = [`$.map(function (x) { return Math.round(32 * x); }).join(', ')`];\n",
				"statementWithoutInit":
					"leds.top(`$.map(function (x) { return Math.round(32 * x); }).join(', ')`);\n"
			}
		},
		{
			"name": "Ac_music"
		}
	]
}
