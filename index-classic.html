<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="viewport" content="width=device-width, height=device-height, maximum-scale=1, user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />

<!-- definition of the user interface and blocks -->
<script type="application/json" id="ui.json">
{
	"styles": {
		"ruleMarks": "#bbb",
		"scrollbarThumbColor": "#b0bec5",
		"scrollbarBackgroundColor": "transparent",
		"scrollbarWidth": 2,
		"scrollingBlockLib": true,
		"errorColor": "#ff1744",
		"warningColor": "#ff7777"
	},

	"blocks": null,
	"buttons": null,
	"widgets": null,

	"css": [
		"classic.css"
	]
}
</script>

<script type="text/x-vpl-css" id="classic.css">
/*
	CSS for VPL3 application
    Classic version (blocks, buttons and widgets defined in JavaScript)
	Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE
*/

view {
	background: white;
}

toolbar {
	padding: 5px;
	margin: 5px;
}

toolbar.vpl.bottom {
	padding: 0;
	margin: 0;
}

button {
	margin: 2px;
}

button.vpl.bottom {
	font: 20px sans-serif;
}

#vpl-message-error {
	color: #e44;
}

#vpl-message-warning {
	color: #f88;
}

separator {
	width: 5px;
	height: 5px;
}

vpl {
	padding: 5px;
	margin: 5px;
	background: #eee;
}

block.library {
	margin: 4px;
}

block.event {
	background: #f70;
}
block.action {
	background: #38f;
}
block.state {
	background: #0c0;
}
block.comment {
	background: #aaa;
}

block-container {
	padding: 0;
	padding-bottom: 8px;
	margin: 12px;
	margin-bottom: 4px;
}
block-container.error {
	border-bottom: #e44 3px;
}
block-container.warning {
	border-bottom: #f88 3px;
}

rule {
	background: #ddd;
	border: solid #666;
	border-radius: 5px;
	padding: 5px;
	margin: 10px;
}

conflict-line.error {
	line: 3px #e44 dashed;
}
conflict-line.warning {
	line: 3px #f88;
}

#widget-then {
	padding-left: 10px;
	padding-right: 10px;
}

block-library {
	background: #eee;
	padding: 5px;
	margin: 5px;
}

/* simulator */

sim-controller {
	background: #eee;
	margin: 5px;
}

button-small {
	margin: 5px;
}

sim-playground-area {
	background: #eee;
	margin: 5px;
	padding: 5px;
}

sim-playground {
	border: 2px silver;
}
</script>

<title>VPL</title>

<style>
html {
	height: 100%;
}
body {
	height: 100%;
	margin: 0;
}
#programCanvas {
	width: 100%;
	height: 100%;
	display: block;
	z-index: 10;
}
#src-editor {
	width: 100%;
	position: fixed;
	z-index: 20;
}
#editor {
	height: 100%;
	display: block;
	padding-top: 0;
	padding-bottom: 0;
	padding-left: 5pt;
	padding-right: 5pt;
	margin: 0;
	border: 0;
	box-sizing: border-box;
	tab-size: 4;
	font-family: monospace;
	font-size: 11pt;
}
pre#editor-lines {
	background-color: silver;
    width: 70px;
    float: left;
    margin: 0;
    padding-top: 0;
    padding-bottom: 0;
    padding-left: 0;
    padding-right: 5pt;
    text-align: right;
    overflow: hidden;
	user-select: none;
}

#input {
	position: absolute;
	z-index: 1000;
	font-family: sans-serif;
	font-size: 15pt;
	top: 10px;
	left: 10px;
	display: none;
}

@media only screen and (max-device-width: 1024px) {
	#editor {
		tab-size: 2;
		font-size: 10pt;
	}
}
</style>

<script src="a3a-ns.js"></script>
<script src="svg.js"></script>
<script src="svg-transform.js"></script>
<script src="vpl-ns.js"></script>
<script src="vpl-blocktemplate.js"></script>
<script src="vpl-block.js"></script>
<script src="vpl-emptyblock.js"></script>
<script src="css.js"></script>
<script src="vpl-css.js"></script>
<script src="vpl-css-draw.js"></script>
<script src="vpl-canvas.js"></script>
<script src="vpl-canvas-scroll.js"></script>
<script src="vpl-blocklib.js"></script>
<script src="vpl-blocklib-svg.js"></script>
<script src="vpl-blocklib-l2.js"></script>
<script src="vpl-blocklib-js.js"></script>
<script src="vpl-blocklib-python.js"></script>
<script src="vpl-eventhandler.js"></script>
<script src="vpl-uiconfig.js"></script>
<script src="vpl-program.js"></script>
<script src="vpl-code.js"></script>
<script src="vpl-code-aseba.js"></script>
<script src="vpl-code-l2.js"></script>
<script src="vpl-code-js.js"></script>
<script src="vpl-code-python.js"></script>
<script src="vpl-cmd.js"></script>
<script src="vpl-app.js"></script>
<script src="vpl-cmd-vpl.js"></script>
<script src="vpl-controlbar.js"></script>
<script src="vpl-buttons-js.js"></script>
<script src="vpl-controlbar-btn.js"></script>
<script src="vpl-widgets-js.js"></script>
<script src="vpl-program-canvas.js"></script>
<script src="vpl-error.js"></script>
<script src="vpl-draw.js"></script>
<script src="vpl-undo.js"></script>
<script src="vpl-aeslfile.js"></script>
<script src="vpl-texteditor.js"></script>
<script src="vpl-sourceedit.js"></script>
<script src="vpl-cmd-src.js"></script>
<script src="vpl-ui-svg.js"></script>
<script src="vpl-runglue.js"></script>
<script src="vpl-main.js"></script>

<script src="a3a-nodebase.js"></script>
<script src="a3a-nodeproxy.js"></script>

<script src="vpl-thymio.js"></script>
<script src="vpl-robot.js"></script>
<script src="vpl-virtualthymio.js"></script>
<script src="compiler-ns.js"></script>
<script src="compiler-vm.js"></script>
<script src="compiler-dis.js"></script>
<script src="compiler.js"></script>
<script src="compiler-macros.js"></script>
<script src="compiler-l2.js"></script>
<script src="compiler-macros-l2.js"></script>
<script src="compiler-thymio.js"></script>
<script src="inputbuffer.js"></script>
<script src="a3a-idmapping.js"></script>
<script src="a3a-com.js"></script>
<script src="a3a-device.js"></script>
<script src="a3a-virtual-thymio.js"></script>
<script src="vpl-virtualthymio-a3a.js"></script>
<script src="vpl-obstacles.js"></script>
<script src="vpl-sim.js"></script>
<script src="vpl-sim2d.js"></script>
<script src="vpl-cmd-sim.js"></script>

</head>

<body>

<div id="vpl-editor">

<canvas id="programCanvas" width="900" height="700"></canvas>

<input id="input">

</div>

<div id="src-editor">
<pre id="editor-lines"></pre>
<textarea id="editor" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
</textarea>
</div>

</body>

</html>
