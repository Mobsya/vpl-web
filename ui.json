{
	"styles": {
		"event": "transparent",
		"state": "transparent",
		"action": "transparent",
		"comment": "#aaa",
		"background": "",
		"ruleBackground": "#ddd",
		"ruleMarks": "#bbb"
	},

	"blocks": [
		{
			"name": "button",
			"type": "event",
			"modes": ["basic", "advanced"],
			"svg": [
			   {
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Bg_Thymio"
				},
				{
					"uri": "Blocks.svg#Ev_Buttons"
				}
			],
			"defaultParameters": [false, false, false, false, false],
			"buttons": [
				{
					"id": "Btn2_Center",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Forward",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Backward",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Right",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Left",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				}
			],
			"aseba": {
				"sectionBegin": "onevent buttons\n",
				"sectionPriority": 10,
				"clauseAnd": "`$[i] ? 'button.' + ['center', 'forward', 'backward', 'right', 'left'][i] + ' != 0' : ''`"
			},
			"l2": {
				"sectionBegin": "onevent buttons {\n",
				"sectionEnd": "}\n",
				"sectionPriority": 10,
				"clauseAnd": "`$[i] ? 'button.' + ['center', 'forward', 'backward', 'right', 'left'][i] + ' != 0' : ''`"
			}
		},
		{
			"name": "Thymio acc 1",
			"type": "event",
			"modes": ["basic", "advanced"],
			"svg": [

				{
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Rot360Rail"
				},
				{
					"uri": "Blocks.svg#ThymioAcc1"
				},
				{
					"uri": "Blocks.svg#Rot360_Handle"
				}
			],
			"defaultParameters": [0],
			"rotating": [
				{
					"id": "Rot360",
					"centerId": "RotationPivot",
					"thumbId": "Btn2_HandleAcc0",
					"numSteps": 12
				}
			],
			"aseba": {
				"initVarDecl": [
					"# yaw angle from accelerometer\nvar yawAngle\n"
				],
				"sectionBegin": "onevent acc\n",
				"clauseInit":
					"call math.atan2(yawAngle, acc[0], acc[1])\n",
				"clause": "yawAngle >= `Math.round(2730.67 * $[0] - 1365.33)` and yawAngle < `Math.round(2730.67 * $[0] + 1365.33)`"
			},
			"l2": {
				"sectionBegin": "onevent acc {\n",
				"sectionEnd": "}\n",
				"sectionPriority": 1,
				"clauseInit":
					"fixed yawAngle = atan2(acc[0], acc[1]);\n",
				"clause": "yawAngle >= `(Math.PI / 12 * ($[0] - 0.5)).toFixed(2)` and yawAngle < `(Math.PI / 12 * ($[0] + 0.5)).toFixed(2)`"
			}
		},
		{
			"name": "Thymio acc 2",
			"type": "event",
			"modes": ["basic", "advanced"],
			"svg": [

				{
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Rot360Rail"
				},
				{
					"uri": "Blocks.svg#ThymioAcc2"
				},
				{
					"uri": "Blocks.svg#Rot360_Handle"
				}
			],
			"defaultParameters": [0],
			"rotating": [
				{
					"id": "Rot360",
					"centerId": "RotationCenter",
					"thumbId": "Btn2_HandleAcc0",
					"numSteps": 12
				}
			],
			"aseba": {
				"initVarDecl": [
					"# yaw angle from accelerometer\nvar yawAngle\n"
				],
				"sectionBegin": "onevent acc\n",
				"clauseInit":
					"call math.atan2(yawAngle, acc[0], acc[1])\n",
				"clause": "yawAngle >= `Math.round(2730.67 * $[0] - 1365.33)` and yawAngle < `Math.round(2730.67 * $[0] + 1365.33)`"
			},
			"l2": {
				"sectionBegin": "onevent acc {\n",
				"sectionEnd": "}\n",
				"sectionPriority": 1,
				"clauseInit":
					"fixed yawAngle = atan2(acc[0], acc[1]);\n",
				"clause": "yawAngle >= `(Math.PI / 12 * ($[0] - 0.5)).toFixed(2)` and yawAngle < `(Math.PI / 12 * ($[0] + 0.5)).toFixed(2)`"
			}
		},
		{
			"name": "Thymio acc 0",
			"type": "event",
			"modes": ["basic", "advanced"],
			"svg": [

				{
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Rot360Rail"
				},
				{
					"uri": "Blocks.svg#ThymioAcc0"
				},
				{
					"uri": "Blocks.svg#Rot360_Handle"
				}
			],
			"defaultParameters": [0],
			"rotating": [
				{
					"id": "Rot360",
					"centerId": "RotationPivot",
					"thumbId": "Btn2_HandleAcc0",
					"numSteps": 12
				}
			],
			"aseba": {
				"initVarDecl": [
					"# yaw angle from accelerometer\nvar yawAngle\n"
				],
				"sectionBegin": "onevent acc\n",
				"clauseInit":
					"call math.atan2(yawAngle, acc[0], acc[1])\n",
				"clause": "yawAngle >= `Math.round(2730.67 * $[0] - 1365.33)` and yawAngle < `Math.round(2730.67 * $[0] + 1365.33)`"
			},
			"l2": {
				"sectionBegin": "onevent acc {\n",
				"sectionEnd": "}\n",
				"sectionPriority": 1,
				"clauseInit":
					"fixed yawAngle = atan2(acc[0], acc[1]);\n",
				"clause": "yawAngle >= `(Math.PI / 12 * ($[0] - 0.5)).toFixed(2)` and yawAngle < `(Math.PI / 12 * ($[0] + 0.5)).toFixed(2)`"
			}
		},
		{
			"name": "start",
			"type": "event",
			"modes": ["basic"],
			"svg": [

				{
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Ev_Start"
				}

			],
			"defaultParameters": [0],
			"aseba":{}
		},
		{
			"name": "clap",
			"type": "event",
			"modes": ["basic"],
			"svg": [

				{
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Ev_Clap"
				}

			],
			"defaultParameters": [0],
			"aseba":{}
		},
		{
			"name": "Ev_Acc_fall",
			"type": "event",
			"modes": ["basic"],
			"svg": [

				{
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Ev_Acc_Fall"
				}

			],
			"defaultParameters": [0],
			"aseba":{}
		},
		{
			"name": "Ev_Acc_hit",
			"type": "event",
			"modes": ["basic"],
			"svg": [

				{
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Ev_Acc_Hit"
				}

			],
			"defaultParameters": [0],
			"aseba":{}
		},
		{
			"name": "Ev_ProxH_bas",
			"type": "event",
			"modes": ["basic", "advanced"],
			"svg": [

				{
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Bg_Thymio_top"
				},
				{
					"uri": "Blocks.svg#ProxZones"
				}

			],
			"defaultParameters": [0, 0, 0, 0],
			"buttons": [
				{
					"id": "Btn3_ProxFront",
					"val": [0, 1, 2],
					"st": ["fill:#90a4ae", "fill:#ffffff", "fill:#000000"]
				},
				{
					"id": "Btn3_ProxRight",
					"val": [0, 1, 2],
					"st": ["fill:#90a4ae", "fill:#ffffff", "fill:#000000"]
				},
				{
					"id": "Btn3_ProxLeft",
					"val": [0, 1, 2],
					"st": ["fill:#90a4ae", "fill:#ffffff", "fill:#000000"]
				},
				{
					"id": "Btn3_ProxBack",
					"val": [0, 1, 2],
					"st": ["fill:#90a4ae", "fill:#ffffff", "fill:#000000"]
				}
				],
			"aseba":{}
		},
		{
			"name": "Remote1",
			"type": "event",
			"modes": ["basic"],
			"svg": [
			   {
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Ev_Remote1"
				}

			],
			"defaultParameters": [false, false, false, false, false],
			"buttons": [
				{
					"id": "Btn2_Remote1_85",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote1_80",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote1_81",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote1_86",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote1_87",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				}
			],
			"aseba": {}
		},
		{
			"name": "Remote2",
			"type": "event",
			"modes": ["basic"],
			"svg": [
			   {
					"uri": "Blocks.svg#Events_bg"
				},

				{
					"uri": "Blocks.svg#Ev_Remote2"
				}

			],
			"defaultParameters": [false, false, false, false, false, false, false, false, false, false, false, false],
			"buttons": [
				{
					"id": "Btn2_Remote2_0",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_1",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_2",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_3",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_4",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_5",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_6",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_7",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_8",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_9",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_16",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_Remote2_17",
					"val": [false, true],
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				}
			],
			"aseba": {}
		},
		{
			"name": "motor",
			"type": "action",
			"modes": ["basic", "advanced"],
			"svg": [

			{
					"uri": "Blocks.svg#Actions_bg"
				},

				{
					"uri": "Blocks.svg#Ac_Wheels"
				}
			],
			"diffwheelmotion": {
				"id": "ThymioTop_wheels_mini",
				"dx": -0.1,
				"dy": 0.05,
				"adjscale": 0.55,
				"color": "#aaf",
				"linewidth": 0.8
			},
			"defaultParameters": [0, 0],
			"sliders": [
				{
					"id": "SliderL_range",
					"thumbId": "Cursor_left",
					"min": -1,
					"max": 1
				},
				{
					"id": "SliderR_range",
					"thumbId": "Cursor_right",
					"min": -1,
					"max": 1
				}
			],
			"aseba": {
				"initCodeExec": [
					"# reset outputs\ncall sound.system(-1)\ncall leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"
				],
				"statement":
					"motor.left.target = `Math.round(500 * $[0])`\nmotor.right.target = `Math.round(500 * $[1])`\n"
			},
			"l2": {
				"initCodeExec": [
					"// reset outputs\nsound.system(-1);\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"
				],
				"statement":
					"motor.left.target = `Math.round(500 * $[0])`;\nmotor.right.target = `Math.round(500 * $[1])`;\n"
			}
		},
		{
			"name": "move",
			"type": "action",
			"modes": ["basic", "advanced"],
			"svg": [

				{
					"uri": "Blocks.svg#Actions_bg"
				},
				{
					"uri": "Blocks.svg#Ac_Directions"
				}
			],
			"defaultParameters": [0],
			"radiobuttons": [
				{
					"id": "Btn2_StopDir",
					"val": 0,
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_FwdDir",
					"val": 1,
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_FwdRightDir",
					"val": 2,
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_RightDir",
					"val": 3,
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_BwdRightDir",
					"val": 4,
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_BwdDir",
					"val": 5,
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_BwdLeftDir",
					"val": 6,
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_LeftDir",
					"val": 7,
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				},
				{
					"id": "Btn2_FwdLeftDir",
					"val": 8,
					"st": ["fill:#90a4ae", "fill:#1de9b6"]
				}
			],
			"aseba": {
				"initCodeExec": [
					"# reset outputs\ncall sound.system(-1)\ncall leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"
				],
				"statement":
					"motor.left.target = `[0,200,250,100,-150,-200,-250,-100,150][$[0]]`\nmotor.right.target = `[0,200,150,-100,-250,-200,-150,100,250][$[0]]`\n"
			},
			"l2": {
				"initCodeExec": [
					"// reset outputs\nsound.system(-1);\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"
				],
				"statement":
					"motor.left.target = `[0,200,250,100,-150,-200,-250,-100,150][$[0]]`;\nmotor.right.target = `[0,200,150,-100,-250,-200,-150,100,250][$[0]]`;\n"
			}
		},
		{
			"name": "top color",
			"type": "action",
			"modes": ["basic", "advanced"],
			"svg": [

				{
					"uri": "Blocks.svg#Actions_bg"
				},
				{
					"uri": "Blocks.svg#Color_top_adv"
				}
			],
			"defaultParameters": [0, 0, 0],
			"sliders": [
				{
					"id": "Slid_red",
					"thumbId": "Cursor_red",
					"min": 0,
					"max": 1
				},
				{
					"id": "Slid_green",
					"thumbId": "Cursor_green",
					"min": 0,
					"max": 1
				},
				{
					"id": "Slid_blue",
					"thumbId": "Cursor_blue",
					"min": 0,
					"max": 1
				}
			],
			"styles": [
				{
					"id": "Gradient_top",
					"st": "fill:#`$.map(function (c) { return Math.floor(c * 15.999).toString(16); }).join('')`"
				}
			],
			"aseba": {
				"initVarDecl": [
					"# RGB color of the top led\nvar topColor[3]\n"
				],
				"initCodeExec": [
					"topColor = [0, 0, 0]\n",
					"# reset outputs\ncall sound.system(-1)\ncall leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"
				],
				"statement":
					"call leds.top(`$.map(function (x) { return Math.round(32 * x); }).join(', ')`)\ntopColor = [`$.map(function (x) { return Math.round(32 * x); }).join(', ')`]\n",
				"statementWithoutInit":
					"call leds.top(`$.map(function (x) { return Math.round(32 * x); }).join(', ')`)\n"
			},
			"l2": {
				"initVarDecl": [
					"// RGB color of the top led\nint topColor[3];\n"
				],
				"initCodeExec": [
					"topColor = [0, 0, 0];\n",
					"// reset outputs\nsound.system(-1);\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"
				],
				"statement":
					"leds.top(`$.map(function (x) { return Math.round(32 * x); }).join(', ')`);\ntopColor = [`$.map(function (x) { return Math.round(32 * x); }).join(', ')`];\n",
				"statementWithoutInit":
					"leds.top(`$.map(function (x) { return Math.round(32 * x); }).join(', ')`);\n"
			}
		},
		{
			"name": "Ac_music",
			"type": "action",
			"modes": ["basic"],
			"svg": [

				{
					"uri": "Blocks.svg#Actions_bg"
				},

				{
					"uri": "Blocks.svg#zones_Bg"
				},

				{
					"uri": "Blocks.svg#beat"
				},
				{
					"uri": "Blocks.svg#Slider"
				}

			],
			"defaultParameters": [0],
			"sliders": [
				{
					"id": "Slider",
					"thumbId": "Cursor",
					"min": -1,
					"max": 1
				}
				],
			"aseba":{}
		}
	],



	"svgFilenames": [
		"Blocks.svg"
	]
}
